!function(t){t.fn.cardtable=function(a){var s,d=this,e={headIndex:0},n=t.extend({},e,a);return s=a&&a.headIndex?a.headIndex:0,d.each(function(){var a=t(this);if(!a.hasClass("stacktable")){var s=t(this).prop("class"),d=t("<div></div>");"undefined"!=typeof n.myClass&&d.addClass(n.myClass);var e,l,i,h,r,c="";a.addClass("stacktable large-only"),e=a.find("caption").clone(),l=a.find("tr").eq(0),a.find("tbody tr").each(function(){i="",h="",r=t(this).prop("class"),t(this).find("td,th").each(function(a){""!==t(this).html()&&(h+='<tr class="'+r+'">',h+=l.find("td,th").eq(a).html()?'<td class="st-key">'+l.find("td,th").eq(a).html()+"</td>":'<td class="st-key"></td>',h+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",h+="</tr>")}),c+='<table class=" '+s+' stacktable small-only"><tbody>'+i+h+"</tbody></table>"}),a.find("tfoot tr td").each(function(a,d){""!==t.trim(t(d).text())&&(c+='<table class="'+s+' stacktable small-only"><tbody><tr><td>'+t(d).html()+"</td></tr></tbody></table>")}),d.prepend(e),d.append(t(c)),a.before(d)}})},t.fn.stacktable=function(a){var s,d=this,e={headIndex:0},n=t.extend({},e,a);return s=a&&a.headIndex?a.headIndex:0,d.each(function(){var a=t(this).prop("class"),d=t('<table class="'+a+' stacktable small-only"><tbody></tbody></table>');"undefined"!=typeof n.myClass&&d.addClass(n.myClass);var e,l,i,h,r,c,o="";e=t(this),e.addClass("stacktable large-only"),l=e.find("caption").clone(),i=e.find("tr").eq(0),e.find("tr").each(function(a){h="",r="",c=t(this).prop("class"),0===a?o+='<tr class=" '+c+' "><th class="st-head-row st-head-row-main" colspan="2">'+t(this).find("th,td").eq(s).html()+"</th></tr>":(t(this).find("td,th").each(function(a){if(a===s)h='<tr class="'+c+'"><th class="st-head-row" colspan="2">'+t(this).html()+"</th></tr>";else if(""!==t(this).html()){r+='<tr class="'+c+'">',r+=i.find("td,th").eq(a).html()?'<td class="st-key">'+i.find("td,th").eq(a).html()+"</td>":'<td class="st-key"></td>';var d=t(this).data(),e="";for(var n in d)e+="data-"+n+'="'+d[n]+'"';r+='<td class="st-val '+t(this).prop("class")+'" '+e+">"+t(this).html()+"</td>",r+="</tr>"}}),o+=h+r)}),d.prepend(l),d.append(t(o)),e.before(d)})},t.fn.stackcolumns=function(a){var s=this,d={},e=t.extend({},d,a);return s.each(function(){var a=t(this),s=a.find("tr").eq(0).find("td,th").length;if(!(3>s)){var d=t('<table class="stacktable small-only"></table>');"undefined"!=typeof e.myClass&&d.addClass(e.myClass),a.addClass("stacktable large-only");for(var n=t("<tbody></tbody>"),l=1;s>l;)a.find("tr").each(function(a){var s=t("<tr></tr>");0===a&&s.addClass("st-head-row st-head-row-main");var d=t(this).find("td,th").eq(0).clone().addClass("st-key"),e=l;if(t(this).find("*[colspan]").length){var i=0;t(this).find("td,th").each(function(){var a=t(this).attr("colspan");return a?(a=parseInt(a,10),e-=a-1,i+a>l&&(e+=i+a-l-1),i+=a):i++,i>l?!1:void 0})}var h=t(this).find("td,th").eq(e).clone().addClass("st-val").removeAttr("colspan");s.append(d,h),n.append(s)}),++l;d.append(t(n)),a.before(d)}})}}(jQuery);